#ifndef STATE_PACMAN_H
#define STATE_PACMAN_H

#include <TextObject.h>
#include <sstream>
#include <GameState.h>
#include <iostream>

#include <Vector2D.h>
#include <GameObjectFactory.h>
#include <TextureManager.h>
#include <math.h>
#include <vector>
#include <istream>
#include <Application.h>
#include <FontManager.h>
#include <StateFactory.h>
#include <IWidget.h>
#include <string.h>

#include <Lmaths.h>
enum {PLAYER1,PLAYER2} typedef  Players;
struct  {int Score = 0; int level = 0; int lives = 3; int CurrentPlaying = Players::PLAYER1;} typedef PacmanGameData;

class State_PacMan: public GameState
{

enum {paccman_Soild = 1,
paccman_Empty,
paccman_isOver,
paccman_Ghost,paccman_Food,
paccman_Cherry} PacManTileType;

  public:
        State_PacMan();
        virtual ~State_PacMan();
bool isTrue = false;
    void Render();

    void RenderScore();
    void Renderlevel();
    void Renderlives();
    void RenderCurrentPlaying();

    void Update();
    bool OnEnter();
    bool onExit();
    void resume();
    void HandleEvent(SDL_Event &e );
    std::string Type()
    {
        return "State_PacMan";
    }
int GetScore();
int GetLives();
bool isPlayer1up();
int GetLevel();

    protected:

    private:



        PacmanGameData m_CurrentPlayersection;










        vec2f l_grid[((int)Pac_Man_Tile_col * Pac_Man_Tile_Row)];
        SDL_Rect grid[14][18];
        vec2f m_tiles[Pac_Man_Tile_col][Pac_Man_Tile_Row];
        int m_PacmanTileGrid[Pac_Man_Tile_col][Pac_Man_Tile_Row];
         int m_emptyTileSize = 0;
        vec2f* m_emptyTiles;
LText log_ofpacmanDir;
SDL_Rect m_viewport;
std::string  pacmanDir;
    std::vector<SDL_Rect> buffer;
    GameObject* pacmanBackGroundTiles[Pac_Man_Tile_col][Pac_Man_Tile_Row];
GameObject* g;

rectangle m_camRect;

};
class State_PacManCreater : public StateBaseCreater
{

public :
    GameState* CreateState() const
    {
        return new State_PacMan();
    }
};


#endif // STATE_PACMAN_H
/**<
2222222222222222222222222222
2111111111111221111111111112
2122221222221221222221222212
2122221222221221222221222212
2122221222221221222221222212
2111111111111111111111111112
2122221221222222221221222212
2122221221222222221221222212
2111111221111221111221111112
2222221222221221222221222222
2222221222221221222221222222
2222221221111111111221222222
2222221221222222221221222222
2222221221211111121221222222
1111111111211111121111111111
2222221221211111121221222222
2222221221222222221221222222
2222221221111111111221222222
2222221221222222221221222222
2222221221222222221221222222
2111111111111221111111111112
2122221222221221222221222212
2122221222221221222221222212
2111221111111111111111221112
2221221221222222221221221222
2221221221222222221221221222
2111111221111221111221111112
2122222222221221222222222212
2122222222221221222222222212
2111111111111111111111111112
2222222222222222222222222222
 */
/**<
0000000000000000000000000000
0111111111111001111111111110
0135541355541001355541355410
0120021200021001200021200210
0122221222221001222221222210
0111111111111111111111111110
0135541341355555541341355410
0122221221222222221221222210
0111111221111221111221111110
0000001225541221355221000000
0000001222221221222221000000
0000001221111111111221000000
0000001221222222221221000000
0000001221200000021221000000
1111111111200000021111111111
0000001341200000021341000000
0000001221222222221221000000
0000001221111111111221000000
0000001221355555541221000000
0000001221222222221221000000
0111111111111221111111111110
0135541355541221355541355410
0122221222221221222221222210
0111221111111111111111221110
0001221351355555541341221000
0001221221222222221221221000
0111111221111221111221111110
0135555555541221355555555410
0122222222221221222222222210
0111111111111111111111111110
0000000000000000000000000000

0000000000000000000000000000
0111111111111001111111111110
0122221222221001222221222210
0120021200021001200021200210
0122221222221001222221222210
0111111111111111111111111110
0122221221222222221221222210
0122221221222222221221222210
0111111221111221111221111110
0000001222221221222221000000
0000001222221221222221000000
0000001221111111111221000000
0000001221222222221221000000
0000001221200000021221000000
1111111111200000021111111111
0000001221200000021221000000
0000001221222222221221000000
0000001221111111111221000000
0000001221222222221221000000
0000001221222222221221000000
0111111111111221111111111110
0122221222221221222221222210
0122221222221221222221222210
0111221111111111111111221110
0001221221222222221221221000
0001221221222222221221221000
0111111221111221111221111110
0122222222221221222222222210
0122222222221221222222222210
0111111111111111111111111110
0000000000000000000000000000
 */
